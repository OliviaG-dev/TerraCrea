# TerraCr√©a üå±

Une plateforme React Native pour d√©couvrir et acheter des cr√©ations artisanales locales, construite avec TypeScript, Expo et Supabase.

## üìã Vue d'ensemble

TerraCr√©a est une application React Native moderne qui connecte les cr√©ateurs locaux avec les amateurs d'artisanat. L'application propose un syst√®me d'authentification flexible permettant aux utilisateurs de d√©couvrir les cr√©ations en tant que visiteur ou de s'inscrire pour une exp√©rience compl√®te avec profils artisan, favoris et messagerie.

## ‚ú® Fonctionnalit√©s principales

### üîê **Authentification avec Supabase**

- ‚úÖ **Connexion/Inscription** avec email et mot de passe
- ‚úÖ **Confirmation par email** avec √©crans d√©di√©s et renvoi possible
- ‚úÖ **Gestion des sessions** automatique et persistante
- ‚úÖ **Navigation conditionnelle** selon l'√©tat d'authentification
- ‚úÖ **Mode visiteur** pour explorer sans compte
- ‚úÖ **D√©connexion s√©curis√©e** avec confirmation

### üé® **Interface utilisateur moderne**

- ‚úÖ **√âcran d'accueil adaptatif** selon l'√©tat de connexion
- ‚úÖ **√âcran de connexion modal** avec design √©l√©gant
- ‚úÖ **√âcran d'exploration** des cr√©ations avec recherche et filtres
- ‚úÖ **√âcran de profil** utilisateur et artisan complet
- ‚úÖ **Navigation fluide** avec React Navigation
- ‚úÖ **Design coh√©rent** avec palette de couleurs terre
- ‚úÖ **Responsive design** pour toutes les tailles d'√©cran
- ‚úÖ **Composants r√©utilisables** pour une interface uniforme
- ‚úÖ **Accessibilit√© compl√®te** avec support des lecteurs d'√©cran

### üõçÔ∏è **Exploration et d√©couverte**

- ‚úÖ **Catalogue de cr√©ations** avec affichage en grille
- ‚úÖ **Recherche textuelle** dans titres et descriptions
- ‚úÖ **Filtres par cat√©gorie** (Bijoux, Poterie, D√©coration, Textiles, Bois, M√©tal)
- ‚úÖ **Syst√®me de favoris** pour les cr√©ations pr√©f√©r√©es
- ‚úÖ **Informations artisan** int√©gr√©es √† chaque cr√©ation
- ‚úÖ **Pagination** pour optimiser les performances
- ‚úÖ **Dates de cr√©ation** et statut de disponibilit√©

### üë• **Profils et communaut√©**

- ‚úÖ **Profils utilisateur** personnalisables (nom, bio, photo)
- ‚úÖ **Profils artisan** avec informations m√©tier
- ‚úÖ **Syst√®me dual** : Acheteur et/ou Artisan
- ‚úÖ **Sp√©cialit√©s artisan** par cat√©gories
- ‚úÖ **Informations business** (nom, localisation, ann√©e cr√©ation)
- ‚úÖ **Validation de profil** avec v√©rification
- ‚úÖ **Upgrade vers artisan** depuis le profil utilisateur

### üèóÔ∏è **Architecture technique optimis√©e**

- ‚úÖ **TypeScript strict** pour la s√©curit√© des types
- ‚úÖ **Hooks personnalis√©s** pour la gestion d'√©tat
- ‚úÖ **Context API** pour l'√©tat global utilisateur
- ‚úÖ **Services centralis√©s** pour l'API Supabase
- ‚úÖ **API de cr√©ations** compl√®te avec CRUD operations
- ‚úÖ **Composants r√©utilisables** et modulaires
- ‚úÖ **Gestion d'erreurs** centralis√©e et user-friendly
- ‚úÖ **Styles centralis√©s** avec 57% de r√©duction de code
- ‚úÖ **Imports optimis√©s** pour de meilleures performances

## üöÄ Technologies utilis√©es

- **React Native** 0.79.5
- **React** 19.0.0
- **TypeScript** ~5.8.3
- **Expo** ~53.0.17
- **Supabase** ^2.45.4 (Authentification et Backend)
- **React Navigation** ^7.1.14
- **Zustand** ^5.0.6

## üìÅ Structure du projet

```
src/
‚îú‚îÄ‚îÄ components/       # Composants r√©utilisables
‚îÇ   ‚îú‚îÄ‚îÄ index.ts              # Export centralis√© des composants
‚îÇ   ‚îú‚îÄ‚îÄ CommonHeader.tsx      # Header standardis√© r√©utilisable
‚îÇ   ‚îú‚îÄ‚îÄ CommonInput.tsx       # Input avec label et gestion d'erreurs
‚îÇ   ‚îú‚îÄ‚îÄ CommonButton.tsx      # Bouton avec variantes (primary, secondary, danger)
‚îÇ   ‚îú‚îÄ‚îÄ AuthNavigator.tsx     # Navigation d'authentification
‚îÇ   ‚îú‚îÄ‚îÄ Header.tsx            # Header principal
‚îÇ   ‚îî‚îÄ‚îÄ NotificationToast.tsx # Notifications toast
‚îú‚îÄ‚îÄ context/         # Contextes React
‚îÇ   ‚îî‚îÄ‚îÄ UserContext.tsx        # Gestion √©tat utilisateur avec auth
‚îú‚îÄ‚îÄ hooks/           # Hooks personnalis√©s
‚îÇ   ‚îî‚îÄ‚îÄ useAuth.ts             # Hook d'authentification Supabase

‚îú‚îÄ‚îÄ screens/         # √âcrans de l'application (optimis√©s)
‚îÇ   ‚îú‚îÄ‚îÄ HomeScreen.tsx         # √âcran d'accueil adaptatif
‚îÇ   ‚îú‚îÄ‚îÄ LoginScreen.tsx        # √âcran de connexion/inscription
‚îÇ   ‚îú‚îÄ‚îÄ ExploreScreen.tsx      # √âcran d'exploration des cr√©ations
‚îÇ   ‚îú‚îÄ‚îÄ ProfilScreen.tsx       # √âcran de profil utilisateur/artisan
‚îÇ   ‚îú‚îÄ‚îÄ CreationsScreen.tsx    # √âcran de gestion des cr√©ations
‚îÇ   ‚îú‚îÄ‚îÄ AddCreationScreen.tsx  # √âcran d'ajout de cr√©ation
‚îÇ   ‚îú‚îÄ‚îÄ EditCreationScreen.tsx # √âcran de modification de cr√©ation
‚îÇ   ‚îú‚îÄ‚îÄ EmailConfirmationScreen.tsx  # Attente de confirmation email
‚îÇ   ‚îî‚îÄ‚îÄ EmailConfirmedScreen.tsx     # Confirmation r√©ussie
‚îú‚îÄ‚îÄ services/        # Services API
‚îÇ   ‚îú‚îÄ‚îÄ supabase.ts            # Configuration et services Supabase
‚îÇ   ‚îú‚îÄ‚îÄ authService.ts         # Service d'authentification avanc√©
‚îÇ   ‚îî‚îÄ‚îÄ creationsApi.ts        # API compl√®te pour les cr√©ations
‚îú‚îÄ‚îÄ types/          # Types TypeScript
‚îÇ   ‚îú‚îÄ‚îÄ User.ts                # Types utilisateur et artisan
‚îÇ   ‚îú‚îÄ‚îÄ Creation.ts            # Types cr√©ations et cat√©gories
‚îÇ   ‚îî‚îÄ‚îÄ Navigation.ts          # Types de navigation
‚îî‚îÄ‚îÄ utils/          # Utilitaires et styles centralis√©s
    ‚îú‚îÄ‚îÄ index.ts               # Export centralis√© des utilitaires
    ‚îú‚îÄ‚îÄ colors.ts              # Palette de couleurs centralis√©e
    ‚îú‚îÄ‚îÄ commonStyles.ts        # Styles communs r√©utilisables
    ‚îú‚îÄ‚îÄ userUtils.ts           # Utilitaires pour profils utilisateur
    ‚îú‚îÄ‚îÄ timeUtils.ts           # Utilitaires de formatage de dates
    ‚îú‚îÄ‚îÄ emailConfirmationHandler.ts  # Gestion confirmation email
    ‚îú‚îÄ‚îÄ passwordResetHandler.ts      # Gestion reset mot de passe
    ‚îî‚îÄ‚îÄ accessibilityConfig.ts       # Configuration accessibilit√©
```

## üéØ Architecture optimis√©e

### **Composants r√©utilisables**

L'application utilise une architecture modulaire avec des composants r√©utilisables :

- **`CommonHeader`** : Header standardis√© avec fl√®che de retour et boutons d'action
- **`CommonInput`** : Input avec label int√©gr√©, gestion d'erreurs et compteur de caract√®res
- **`CommonButton`** : Bouton avec variantes (primary, secondary, danger, disabled)

### **Styles centralis√©s**

- **57% de r√©duction** du code de styles gr√¢ce √† la centralisation
- **0 duplication** de styles dans tout le projet
- **Design coh√©rent** dans toute l'application
- **Maintenance simplifi√©e** avec un seul point de modification

### **Optimisations techniques**

- **Imports centralis√©s** via les fichiers `index.ts`
- **Gestion automatique** des erreurs et de l'accessibilit√©
- **Performance am√©lior√©e** avec moins de re-renders
- **Code plus maintenable** et scalable

## üîß Installation

### Pr√©requis

- **Node.js** 22.0.0 ou plus r√©cent
- **npm** ou **yarn**
- **Compte Supabase** (gratuit)

### Configuration Supabase

1. **Cr√©er un projet Supabase**

   - Aller sur [supabase.com](https://supabase.com)
   - Cr√©er un compte et un nouveau projet
   - Noter l'URL du projet et la cl√© API anonyme

2. **Configurer les cl√©s dans l'application**

   ```typescript
   // Dans src/services/supabase.ts
   const supabaseUrl = "VOTRE_URL_SUPABASE";
   const supabaseKey = "VOTRE_CLE_ANONYME";
   ```

3. **Configuration de l'authentification**
   - Dans le dashboard Supabase, aller dans **Authentication** > **Settings**
   - Site URL : `http://localhost:19006` (d√©veloppement)
   - Activer les confirmations email (recommand√©)

### Installation

1. **Cloner le repository**

   ```bash
   git clone <repository-url>
   cd terracrea
   ```

2. **Installer les d√©pendances**

   ```bash
   npm install
   ```

3. **Configurer Supabase**
   - Modifier `src/services/supabase.ts` avec vos cl√©s
4. **D√©marrer l'application**
   ```bash
   npm start
   ```

## üöÄ D√©veloppement

### Scripts disponibles

```bash
# D√©marrer le serveur de d√©veloppement
npm start

# Lancer sur diff√©rentes plateformes
npm run android    # Android
npm run ios        # iOS
npm run web        # Web

# Utilitaires
npm run check-node # V√©rifier la version Node.js
```

### Guide d'utilisation des composants

#### **Ajouter un nouvel √©cran :**

```typescript
import { CommonHeader, CommonInput, CommonButton } from "../components";
import { COLORS, headerStyles, inputStyles } from "../utils";

// Header standard
<CommonHeader
  title="Mon √âcran"
  onBack={() => navigation.goBack()}
  rightButton={{
    text: "Sauvegarder",
    onPress: handleSave,
    loading: isLoading
  }}
/>

// Input standard
<CommonInput
  label="Titre"
  value={title}
  onChangeText={setTitle}
  error={errors.title}
  charCount={{ current: title.length, max: 100 }}
/>

// Bouton standard
<CommonButton
  title="Confirmer"
  variant="primary"
  onPress={handleConfirm}
  loading={isLoading}
/>
```

## üì± Parcours utilisateur

### üè† **√âcran d'accueil**

- **Visiteurs non connect√©s** :

  - Boutons "Se connecter" et "S'inscrire" en en-t√™te
  - Bouton "Continuer" principal vers l'exploration
  - Interface d'exploration libre accessible

- **Utilisateurs connect√©s** :
  - Message de bienvenue personnalis√© avec email
  - Bouton "Explorez" pour acc√©der aux fonctionnalit√©s compl√®tes
  - Acc√®s direct au profil depuis l'en-t√™te
  - Bouton de d√©connexion discret

### üîç **Exploration des cr√©ations**

- **Catalogue complet** avec affichage en grille responsive
- **Barre de recherche** pour rechercher par nom ou description
- **Filtres par cat√©gorie** : Tout, Bijoux, Poterie, D√©coration, etc.
- **Cartes de cr√©ation** avec image, prix, artisan et favoris
- **Informations artisan** int√©gr√©es (nom, localisation, v√©rification)
- **Syst√®me de favoris** pour utilisateurs connect√©s
- **Pagination automatique** pour de meilleures performances

### üë§ **Profils utilisateur**

- **Profil personnel** : nom, pr√©nom, bio, nom d'utilisateur
- **Profil artisan** (optionnel) :
  - Nom d'entreprise et localisation
  - Sp√©cialit√©s par cat√©gories
  - Description et ann√©e de cr√©ation
  - Statut de v√©rification
- **Upgrade artisan** depuis le profil utilisateur
- **Validation des donn√©es** avant sauvegarde

### üîê **Authentification compl√®te**

- **Modal de connexion/inscription** accessible depuis l'accueil
- **Confirmation par email** obligatoire avec √©crans d√©di√©s
- **Renvoi d'email** en cas de non-r√©ception
- **√âcrans de confirmation** avec animations et redirections
- **Retour automatique** √† l'accueil apr√®s connexion
- **Mode visiteur** toujours accessible

### üîÑ **Gestion des sessions**

- **Sessions persistantes** - L'utilisateur reste connect√©
- **V√©rification automatique** de la session au d√©marrage
- **√âcoute des changements** d'√©tat d'authentification
- **Gestion des profils** artisan et acheteur s√©par√©ment
- **D√©connexion s√©curis√©e** avec confirmation

## üé® Design et UX

### üéØ **Palette de couleurs**

- **Primaire** : `#4a5c4a` (vert terre)
- **Fond** : `#fafaf9` (blanc cass√©)
- **Texte secondaire** : `#7a8a7a` (gris vert)
- **Accents** : Tons terre et naturels

### üìê **Principes de design**

- **Design coh√©rent** sur tous les √©crans
- **Navigation intuitive** et accessible
- **Feedback visuel** appropri√© (loading, erreurs)
- **Exp√©rience fluide** entre modes visiteur/connect√©
- **Interface √©pur√©e** sans ic√¥nes superflues

## üîí S√©curit√©

- **Mots de passe s√©curis√©s** g√©r√©s par Supabase
- **Sessions chiffr√©es** et tokens s√©curis√©s
- **Navigation prot√©g√©e** selon l'√©tat d'authentification
- **Gestion d'erreurs** appropri√©e sans exposer de donn√©es sensibles

## üèóÔ∏è Architecture

### üîó **Flux d'authentification**

```
üì± App Launch
    ‚Üì
üîç Session Check (useAuth)
    ‚Üì
üè† HomeScreen
    ‚îú‚îÄ‚îÄ üë§ Non connect√© ‚Üí Boutons Auth + Exploration libre
    ‚îÇ   ‚Üì
    ‚îÇ   üîê LoginScreen (modal)
    ‚îÇ   ‚îú‚îÄ‚îÄ ‚úÖ Connexion ‚Üí V√©rification email ‚Üí HomeScreen (connect√©)
    ‚îÇ   ‚îú‚îÄ‚îÄ ‚úÖ Inscription ‚Üí EmailConfirmationScreen ‚Üí EmailConfirmedScreen
    ‚îÇ   ‚îî‚îÄ‚îÄ ‚ùå Fermer ‚Üí Mode visiteur (ExploreScreen)
    ‚îÇ
    ‚îî‚îÄ‚îÄ ‚úÖ Connect√© ‚Üí Interface personnalis√©e + Profil + Favoris
        ‚Üì
        üîç ExploreScreen (Recherche + Filtres + Favoris)
        ‚Üì
        üë§ ProfilScreen (Utilisateur ‚ÜîÔ∏è Artisan)
```

### üéØ **Services et API**

- **`AuthService`** : Authentification avec confirmation email
- **`CreationsApi`** : CRUD complet pour les cr√©ations
  - R√©cup√©ration avec pagination
  - Recherche et filtrage
  - Gestion des favoris
  - Transformations de donn√©es Supabase
- **`useAuth`** : Hook de gestion compl√®te de l'authentification
- **`UserContext`** : √âtat global utilisateur avec profils artisan
- **`useFavorites`** : Hook pour la gestion des favoris

### üìä **Mod√®les de donn√©es**

- **`User`** : Profil utilisateur avec capacit√©s artisan/acheteur
- **`ArtisanProfile`** : Profil m√©tier sp√©cialis√©
- **`Creation`** : Cr√©ations avec cat√©gories et m√©tadonn√©es
- **`CreationWithArtisan`** : Cr√©ations enrichies avec donn√©es artisan
- **`CreationCategory`** : Enum des cat√©gories disponibles

## üìà Optimisations r√©alis√©es

### **Refactoring du code**

- ‚úÖ **57% de r√©duction** du code de styles
- ‚úÖ **7 √©crans optimis√©s** avec composants r√©utilisables
- ‚úÖ **0 duplication** de code dans tout le projet
- ‚úÖ **Architecture modulaire** avec composants centralis√©s
- ‚úÖ **Performance am√©lior√©e** avec moins de re-renders
- ‚úÖ **Maintenance simplifi√©e** avec un seul point de modification

### **Composants cr√©√©s**

- **`CommonHeader`** : Header standardis√© pour tous les √©crans
- **`CommonInput`** : Input avec gestion d'erreurs int√©gr√©e
- **`CommonButton`** : Bouton avec variantes et √©tats de chargement

### **Styles centralis√©s**

- **`commonStyles.ts`** : Tous les styles r√©p√©titifs centralis√©s
- **`colors.ts`** : Palette de couleurs unifi√©e
- **Exports centralis√©s** via les fichiers `index.ts`

## üß™ Fonctionnalit√©s √† venir

- [ ] **Messagerie** cr√©ateur-acheteur
- [ ] **G√©olocalisation** des cr√©ateurs locaux
- [ ] **Notifications push** pour nouveaut√©s et favoris
- [ ] **Reset de mot de passe** par email
- [ ] **Authentification sociale** (Google, Apple)
- [ ] **Syst√®me de commandes** et panier
- [ ] **√âvaluations et commentaires** sur les cr√©ations
- [ ] **Photos multiples** par cr√©ation
- [ ] **Gestion de stock** pour les artisans
- [ ] **Tableau de bord artisan** avec statistiques
- [ ] **Th√®me dynamique** (mode sombre/clair)
- [ ] **Animations standardis√©es**

## ü§ù Contribution

1. Fork le projet
2. Cr√©er une branche pour votre fonctionnalit√© (`git checkout -b feature/AmazingFeature`)
3. Commiter vos changements (`git commit -m 'Add some AmazingFeature'`)
4. Pousser vers la branche (`git push origin feature/AmazingFeature`)
5. Ouvrir une Pull Request

## üìÑ Licence

Ce projet est sous licence MIT. Voir le fichier `LICENSE` pour plus de d√©tails.

## üÜò Support

Pour toute question ou probl√®me, n'h√©sitez pas √† ouvrir une issue sur le repository GitHub.

---

Fait avec ‚ù§Ô∏è et React Native pour promouvoir l'artisanat local üé®
